import{_ as b}from"./CardComponent.vue_vue_type_style_index_0_lang-5b0029ab.js";import{_ as x,a as B}from"./CardDivider.vue_vue_type_style_index_0_lang-d3f03ffa.js";import{_ as F}from"./CardLinkBlock.vue_vue_type_script_setup_true_lang-d44c3c52.js";import{d as w,y as E,k as N,v as A,o as v,c as L,a as o,u as e,x as d,m as G,q as t,b as I,w as V}from"./index-8b280c30.js";import{u as q,F as M}from"./FormPasswordGeneratorButton-8e1ee753.js";import{_ as i,a as R}from"./useAxios-5e6bb7b6.js";import{n as p,p as f,c as h}from"./LoaderComponent.vue_vue_type_style_index_0_lang-07c726db.js";import"./LinkComponent.vue_vue_type_script_setup_true_lang-09c82395.js";import"./_plugin-vue_export-helper-c27b6911.js";const W=["onSubmit"],z=w({__name:"SignupFormContainer",setup(g){const{name:n,password:r,confirmPassword:s,response:k,handlleNameChange:C,handllePasswordChange:y,handlleConfirmPasswordChange:K,handlePassworgGeneratorClick:P,register:S,nameError:l,passwordError:m,confirmPasswordError:c,isLoading:u}=q("user"),{addNotification:$}=E(),j=N(()=>n.value.length>2&&r.value.length>7&&s.value.length>7&&!l.value&&!m.value&&!c.value&&!u.value);function _(){S({username:n.value,password:r.value,confirm_password:s.value})}return A(k,a=>{a!=null&&a.token&&(localStorage.setItem("token",a.token),localStorage.setItem("user",a.user),$("Вы зарегистрированы","info"),G.push("/"))}),t(p,[n,C]),t(f,[r,y]),t(h,[s,K]),(a,D)=>(v(),L("form",{class:"form",onSubmit:d(_,["prevent"])},[o(i,{title:"Имя пользователя",name:"name",injectionKey:e(p),error:e(l)},null,8,["injectionKey","error"]),o(i,{title:"Пароль",name:"password",injectionKey:e(f),error:e(m)},null,8,["injectionKey","error"]),o(M,{onClicked:e(P)},null,8,["onClicked"]),o(i,{title:"Подтвердите пароль",name:"confirmPassword",injectionKey:e(h),error:e(c)},null,8,["injectionKey","error"]),o(R,{title:"Зарегистрироваться",type:"submit",isFullWidth:"",isActive:e(j),isLoading:e(u),onClick:d(_,["prevent"])},null,8,["isActive","isLoading","onClick"])],40,W))}}),ee=w({__name:"SignupView",setup(g){return(n,r)=>(v(),I(b,null,{default:V(()=>[o(F),o(x,{title:"Регистрация"}),o(B),o(z)]),_:1}))}});export{ee as default};
