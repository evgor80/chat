import{_ as E}from"./CardComponent.vue_vue_type_style_index_0_lang-5b0029ab.js";import{_ as V,a as L}from"./CardDivider.vue_vue_type_style_index_0_lang-d3f03ffa.js";import{d as p,o as c,c as h,f as n,A as G,B as T,g as q,y as M,v as R,k as W,a as e,u as o,w as b,e as z,T as D,x as g,m as H,q as u,b as J}from"./index-8b280c30.js";import{u as O,F as Q}from"./FormPasswordGeneratorButton-8e1ee753.js";import{_ as m,a as U}from"./useAxios-5e6bb7b6.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";import{n as k,p as y,c as x}from"./LoaderComponent.vue_vue_type_style_index_0_lang-07c726db.js";const f=t=>(G("data-v-4d81a038"),t=t(),T(),t),X={class:"form__switch__wrapper"},Y=f(()=>n("span",{"aria-hidden":"true"},"Общедоступный",-1)),Z={class:"form__switch",htmlFor:"checkbox"},ee=["value"],ae=f(()=>n("span",{class:"form__switch__slider form__switch__slider--round"},null,-1)),oe=f(()=>n("span",{"aria-hidden":"true"},"Приватный",-1)),se=p({__name:"FormSwitch",props:{isChecked:{type:Boolean}},setup(t){return(a,s)=>(c(),h("div",X,[Y,n("label",Z,[n("input",{name:"checkbox",id:"checkbox",type:"checkbox","aria-label":"Приватный чат",value:t.isChecked,onChange:s[0]||(s[0]=r=>a.$emit("changed"))},null,40,ee),ae]),oe]))}});const te=F(se,[["__scopeId","data-v-4d81a038"]]),ne=["onSubmit"],re={key:0},ie=p({__name:"NewChatFormContainer",setup(t){const a=q(!1),{name:s,password:r,confirmPassword:_,response:$,handlleNameChange:N,handllePasswordChange:S,handlleConfirmPasswordChange:K,handlePassworgGeneratorClick:B,register:P,nameError:l,passwordError:v,confirmPasswordError:w,isLoading:d}=O("room"),{addNotification:j}=M();function I(){a.value=!a.value}function C(){P({name:s.value,password:r.value,confirm_password:_.value,private:a.value})}R($,i=>{i!=null&&i.room&&(H.push("/"),j("Чат успешно создан","info"))});const A=W(()=>a.value?s.value.length>2&&r.value.length>7&&_.value.length>7&&!l.value&&!v.value&&!w.value&&!d.value:s.value.length>2&&!l.value&&!d.value);return u(k,[s,N]),u(y,[r,S]),u(x,[_,K]),(i,_e)=>(c(),h("form",{class:"form",onSubmit:g(C,["prevent"])},[e(te,{isChecked:a.value,onChanged:I},null,8,["isChecked"]),e(m,{title:"Название чата",name:"name",injectionKey:o(k),error:o(l)},null,8,["injectionKey","error"]),e(D,null,{default:b(()=>[a.value?(c(),h("div",re,[e(m,{title:"Пароль",name:"password",injectionKey:o(y),error:o(v)},null,8,["injectionKey","error"]),e(Q,{onClicked:o(B)},null,8,["onClicked"]),e(m,{title:"Подтвердите пароль",name:"confirmPassword",injectionKey:o(x),error:o(w)},null,8,["injectionKey","error"])])):z("",!0)]),_:1}),e(U,{title:"Создать",type:"submit",isFullWidth:"",isActive:o(A),onClick:g(C,["prevent"]),isLoading:o(d)},null,8,["isActive","onClick","isLoading"])],40,ne))}});const ce=F(ie,[["__scopeId","data-v-2694e851"]]),ve=p({__name:"NewChatView",setup(t){return(a,s)=>(c(),J(E,null,{default:b(()=>[e(V,{title:"Создать новый чат"}),e(L),e(ce)]),_:1}))}});export{ve as default};
